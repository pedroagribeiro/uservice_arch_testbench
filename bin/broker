#!/bin/bash

# Usage:
# $1 - the identifier of the queue that it should consume.
# $2 - the number of workers it must feed.
# $3 - the host of the redis database.
# $4 - the port in which the redis database is exposed.
# $5 - the port in which the workers queues start.
# $6 - the host of the queue that is consumes from.
# $7 - the port in which the queue is exposed.

mvn clean compile exec:java \
    -Dexec.args="-workers ${1:-worker0} -workers ${2:-worker1} -workers ${3:-worker2} -worker_port ${4:-5672}  -redis_host ${5:-localhost} -redis_port ${6:-6379} -consuming_queue_host ${7:-localhost} -consuming_queue_port ${8:-5675} -algorithm ${9:-1} -containerized ${10:-0}"
